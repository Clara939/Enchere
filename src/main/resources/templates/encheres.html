<!DOCTYPE html>
<html lang="fr" th:replace="~{layout/layout :: frag_layout(content=~{::main})}">
<main>
    <h2>Liste des ench√®res üí∞</h2>
    <div id="encheres_corps_principal">
        <!--        <section id="encheres_section_filtres">-->
        <form id="encheres_form_filtre" th:action="@{/encheres/filtres}" method="post">
            <label for="encheres_input_recherche">Filtres :</label>
            <input id="encheres_input_recherche" type="search" name="search" placeholder="üîçÔ∏é le nom de l'article contient" th:value="${search}">
            <!--                        th:value permet d'afficher le mot recherch√© sur la page des r√©sultats-->
            <label for="encheres_select_categories">Cat√©gories :</label>
            <select id="encheres_select_categories" name="categorie">
                <option value="0" th:selected="${id_categorie_selectionnee == 0}">Toutes les cat√©gories</option>
                <!--                            th:selected="condition" : l'option est s√©lectionn√©e si la condition est v√©rifi√©e-->
                <option th:each="cat : ${categorieList}"
                        th:text="${cat.getLibelle()}"
                        th:value="${cat.getId_categorie()}"
                        th:selected="${cat.getId_categorie() == id_categorie_selectionnee}">
                </option>
            </select>
            <button type="submit" class="boutonOrange">RECHERCHER</button>
        </form>
        <!--        </section>-->
        <!--        <section id="encheres_section_liste_encheres">-->
        <div th:each="article : ${articleList}" class="encheres_article_vente">
            <!--<img th:src="${article.}">-->
            <h3 th:text="${article.getNom_article()}"></h3>
            <div class="encheres_article_infos">
                <div>
                    <p>Prix actuel :
                        <strong><span th:text="${article.getPrix_vente()}"></span><span> points</span></p></strong>
                    <p>Fin de l'ench√®re :
                        <strong><span th:text="${article.getDate_fin_encheres()}"></span></p></strong>
                    <p>Vendeur :
                        <strong><span th:text="${article.getVendeur().getPseudo()}"></span></p></strong>
                </div>
                <button type="button" class="boutonOrange">Ench√©rir</button>
            </div>
        </div>
        <!--        </section>-->
    </div>
</main>
</html>