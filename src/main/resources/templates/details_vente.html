<!DOCTYPE html>
<html lang="fr" th:replace="~{layout/layout :: frag_layout(content=~{::main})}">
<main>
  <h2 class="titre-gradient">Détails ventes</h2>
  <!-- bloc d'affichage des erreurs-->
  <div th:if="${error}" class="error-message" style="color: #262624; padding: 15px; border: 2px solid #262624; margin-bottom: 30px;">
    <strong>Error :  </strong> <span th:text="${error}"></span>
  </div>

  <div th:if="${success}" class="success-message" style="color: #262624; padding: 15px; border: 2px solid #262624; background-color: #98CE00; margin-bottom: 30px;">
    <strong>Succès : </strong> <span th:text="${success}"></span>
  </div>

  <div id="detail_ventes_contenu_principal">
    <div id="detail_vente_conteneur">
      <div>
        <span class="detail_vente_label" >Article</span>
        <span class="detail_vente_donnee" th:text="${article.getNom_article()}"></span>
      </div>
      <div>
        <span class="detail_vente_label" >Description</span>
        <span class="detail_vente_donnee" th:text="${article.getDescription()}"></span>
      </div>
      <div>
        <span class="detail_vente_label" >Catégorie</span>
        <span class="detail_vente_donnee" th:text="${article.getCategorieArticle().getLibelle()}"></span>
      </div>
      <div>
        <span class="detail_vente_label" >Meilleure offre</span>
        <span class="detail_vente_donnee" th:text="${article.getPrix_vente()}"></span>
      </div>
      <div>
        <span class="detail_vente_label" >Mise à prix</span>
        <span class="detail_vente_donnee" th:text="${article.getPrix_initial()}"></span>
      </div>
      <div>
        <span class="detail_vente_label" >Fin de l'enchère</span>
        <span class="detail_vente_donnee" th:text="${article.getDate_fin_encheres()}"></span>
      </div>
      <div>
        <span class="detail_vente_label" >Vendeur</span>
        <span class="detail_vente_donnee" th:text="${article.getVendeur().getPseudo()}"></span>
      </div>
      <div>
        <span class="detail_vente_label" >Ville de retrait</span>
        <span class="detail_vente_donnee" th:text="${article.getLieuxRetrait().getVille()}"></span>
      </div>
    </div>

    <form id="detail_vente_form_proposition" th:action="@{/encheres/placer}"
          method="post">
      <div>
        <label for="proposition">Ma proposition</label>
        <input id="proposition" type="number" th:min="${enchereMinimale}" th:value="${enchereMinimale}" th:name="montantPropose" required>
        <input type="hidden" th:name="id_article" th:value="${article.id_article}">
      </div>
      <div id="btn_detail_vente_formulaire">
        <button class="boutonVert" type="submit">Faire une enchère</button>
        <button class="boutonOrange" type="button"><a th:href="@{/MonProfil/addCredit}">+ de crédits</a></button>
        <a  href="/encheres" class="boutonBlanc">Annuler</a>
      </div>
    </form>
  </div>
</main>
</html>